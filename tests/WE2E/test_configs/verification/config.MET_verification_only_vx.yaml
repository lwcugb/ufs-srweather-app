metadata:
  description: |-
    This test is to ensure that the workflow running in community mode
    can successfully run the MET deterministic verification tasks but
    using staged observation and forecast files (i.e. with other tasks
    such as pre-processing, forecast, and post-processing deactivated).

user:
  RUN_ENVIR: community

workflow:
  PREDEF_GRID_NAME: RRFS_CONUS_25km
  DATE_FIRST_CYCL: '2019061500'
  DATE_LAST_CYCL: '2019061500'
  FCST_LEN_HRS: 6
  PREEXISTING_DIR_METHOD: rename

workflow_switches:
#
# This test assumes that the post-processed forecast files are staged
# (i.e., not generated by running the forecast model).  Thus, turn off
# pre-processing, forecast, post-processing, and other tasks ordinarily 
# needed for generation of post-processed forecast files.
#
  RUN_TASK_MAKE_GRID: false
  RUN_TASK_MAKE_OROG: false
  RUN_TASK_MAKE_SFC_CLIMO: false
  RUN_TASK_GET_EXTRN_ICS: false
  RUN_TASK_GET_EXTRN_LBCS: false
  RUN_TASK_MAKE_ICS: false
  RUN_TASK_MAKE_LBCS: false
  RUN_TASK_RUN_FCST: false
  RUN_TASK_RUN_POST: false
#
# This test assumes the observation files are staged.  Thus, deactivate
# the GET_OBS_... tasks.  Note we do not specify the obs staging directories
# (CCPA_OBS_DIR, MRMS_OBS_DIR, and NDAS_OBS_DIR) because those will be
# automatically set (in a platform-dependent way using the machine file)
# by the script that runs the WE2E tests.
#
  RUN_TASK_GET_OBS_CCPA: false
  RUN_TASK_GET_OBS_MRMS: false
  RUN_TASK_GET_OBS_NDAS: false
#
# Turn on verification tasks.
#
  RUN_TASK_VX_GRIDSTAT: true
  RUN_TASK_VX_POINTSTAT: true

#
# In the "verification" section below, we don't explicitly set the location 
# of the staged forecast files (via VX_FCST_INPUT_BASEDIR) because this
# location gets set automatically by the script that runs the WE2E tests.
# The script sets the location in a platform-dependent way using the
# appropriate machine file.
#
verification:
  VX_FCST_MODEL_NAME: FV3_GFS_v15p2_CONUS_25km
